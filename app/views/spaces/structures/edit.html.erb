<% content_for :page_pretitle do %>
  Structure / settings
<% end %>
<% content_for :page_title do %>
  <%= @structure&.id || "Edit" %>
<% end %>

<%= turbo_frame_tag(@structure) do %>
  <div class="card border">
    <div class="row g-0">
      <div class="col-3 d-none d-md-block border-end">
        <div class="card-body">
          <h4 class="subheader">General</h4>
          <div class="list-group list-group-transparent flex-column nav nav-structure-settings" id="structure-settings-tab" role="tablist" aria-orientation="vertical">
            <button class="list-group-item list-group-item-action d-flex align-items-center nav-link active"
            id="structure-details-tab" data-bs-toggle="tab" data-bs-target="#structure-details" type="button" role="tab" aria-controls="structure-details" aria-selected="true">
              Details
              <small class="text-muted ms-auto">4</small>
            </button>
            <button class="list-group-item list-group-item-action d-flex align-items-center nav-link"
            id="structure-restricted-tab" data-bs-toggle="tab" data-bs-target="#structure-restricted" type="button" role="tab" aria-controls="structure-restricted" aria-selected="false">
              Restricted
            </button>
          </div>
        </div>
      </div>
      <div class="col d-flex flex-column">
        <div class="card-body tab-content" id="structure-settings-tabContent">
          <div class="tab-pane show active" id="structure-details" role="tabpanel" aria-labelledby="structure-details-tab" tabindex="0">
            <h2 class="mb-4">Details</h2>
            <%= render "form", structure: @structure %>
          </div>
        <div class="tab-pane" id="structure-restricted" role="tabpanel" aria-labelledby="structure-restricted-tab" tabindex="0">
          <h2 class="mb-4">Restricted</h2>
            <%= button_to "Destroy this structure", space_structure_path(@space, @structure), method: :delete, form: {data: {confirm: 'Are you sure?', turbo: false}}, class: "btn btn-danger" %>
        </div>
      </div>
    </div>
  </div>
</div>
<% end %>